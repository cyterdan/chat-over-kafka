<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 550">
  <defs>
    <linearGradient id="aivenGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF5722;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#E64A19;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="kafkaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FFB74D;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF9800;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="4" flood-opacity="0.3"/>
    </filter>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="550" fill="#1a1a2e"/>
  
  <!-- Title -->
  <text x="450" y="45" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#FFFFFF" text-anchor="middle">üéôÔ∏è Chat over Kafka - Architecture</text>
  <text x="450" y="70" font-family="Arial, sans-serif" font-size="14" fill="#888" text-anchor="middle">Real-time Walkie-Talkie powered by Apache Kafka</text>
  
  <!-- Dan (Broadcasting) - Left -->
  <g transform="translate(80, 160)" filter="url(#shadow)">
    <!-- Walkie-talkie body -->
    <rect x="0" y="0" width="100" height="160" rx="10" fill="#2d2d44" stroke="#ff6b6b" stroke-width="3"/>
    <!-- Antenna -->
    <rect x="40" y="-30" width="8" height="35" fill="#444" rx="2"/>
    <circle cx="44" cy="-35" r="6" fill="#ff6b6b" filter="url(#glow)"/>
    <!-- Screen -->
    <rect x="10" y="15" width="80" height="50" rx="5" fill="#1a1a1a"/>
    <!-- Waveform animation (red = broadcasting) -->
    <g transform="translate(15, 30)">
      <rect x="0" y="10" width="6" height="20" fill="#ff6b6b" rx="1"/>
      <rect x="10" y="5" width="6" height="30" fill="#ff6b6b" rx="1"/>
      <rect x="20" y="0" width="6" height="40" fill="#ff6b6b" rx="1"/>
      <rect x="30" y="5" width="6" height="30" fill="#ff6b6b" rx="1"/>
      <rect x="40" y="8" width="6" height="24" fill="#ff6b6b" rx="1"/>
      <rect x="50" y="12" width="6" height="16" fill="#ff6b6b" rx="1"/>
      <rect x="60" y="10" width="6" height="20" fill="#ff6b6b" rx="1"/>
    </g>
    <!-- PTT Button -->
    <circle cx="50" cy="100" r="25" fill="#ff6b6b" stroke="#c92a2a" stroke-width="2"/>
    <text x="50" y="105" font-family="Arial" font-size="10" fill="#fff" text-anchor="middle" font-weight="bold">PTT</text>
    <!-- Speaker grille -->
    <g transform="translate(20, 135)">
      <line x1="0" y1="0" x2="60" y2="0" stroke="#555" stroke-width="2"/>
      <line x1="0" y1="6" x2="60" y2="6" stroke="#555" stroke-width="2"/>
      <line x1="0" y1="12" x2="60" y2="12" stroke="#555" stroke-width="2"/>
    </g>
  </g>
  
  <!-- Amelie (Listening) - Right Top -->
  <g transform="translate(720, 120)" filter="url(#shadow)">
    <rect x="0" y="0" width="100" height="160" rx="10" fill="#2d2d44" stroke="#51cf66" stroke-width="3"/>
    <rect x="40" y="-30" width="8" height="35" fill="#444" rx="2"/>
    <circle cx="44" cy="-35" r="6" fill="#51cf66" filter="url(#glow)"/>
    <rect x="10" y="15" width="80" height="50" rx="5" fill="#1a1a1a"/>
    <!-- Waveform (green = receiving) -->
    <g transform="translate(15, 30)">
      <rect x="0" y="12" width="6" height="16" fill="#51cf66" rx="1"/>
      <rect x="10" y="8" width="6" height="24" fill="#51cf66" rx="1"/>
      <rect x="20" y="3" width="6" height="34" fill="#51cf66" rx="1"/>
      <rect x="30" y="6" width="6" height="28" fill="#51cf66" rx="1"/>
      <rect x="40" y="10" width="6" height="20" fill="#51cf66" rx="1"/>
      <rect x="50" y="8" width="6" height="24" fill="#51cf66" rx="1"/>
      <rect x="60" y="12" width="6" height="16" fill="#51cf66" rx="1"/>
    </g>
    <circle cx="50" cy="100" r="25" fill="#3d3d5c" stroke="#51cf66" stroke-width="2"/>
    <text x="50" y="105" font-family="Arial" font-size="10" fill="#51cf66" text-anchor="middle">LISTEN</text>
    <g transform="translate(20, 135)">
      <line x1="0" y1="0" x2="60" y2="0" stroke="#555" stroke-width="2"/>
      <line x1="0" y1="6" x2="60" y2="6" stroke="#555" stroke-width="2"/>
      <line x1="0" y1="12" x2="60" y2="12" stroke="#555" stroke-width="2"/>
    </g>
  </g>
  
  <!-- Bob (Listening) - Right Bottom -->
  <g transform="translate(720, 330)" filter="url(#shadow)">
    <rect x="0" y="0" width="100" height="160" rx="10" fill="#2d2d44" stroke="#51cf66" stroke-width="3"/>
    <rect x="40" y="-30" width="8" height="35" fill="#444" rx="2"/>
    <circle cx="44" cy="-35" r="6" fill="#51cf66" filter="url(#glow)"/>
    <rect x="10" y="15" width="80" height="50" rx="5" fill="#1a1a1a"/>
    <g transform="translate(15, 30)">
      <rect x="0" y="12" width="6" height="16" fill="#51cf66" rx="1"/>
      <rect x="10" y="8" width="6" height="24" fill="#51cf66" rx="1"/>
      <rect x="20" y="3" width="6" height="34" fill="#51cf66" rx="1"/>
      <rect x="30" y="6" width="6" height="28" fill="#51cf66" rx="1"/>
      <rect x="40" y="10" width="6" height="20" fill="#51cf66" rx="1"/>
      <rect x="50" y="8" width="6" height="24" fill="#51cf66" rx="1"/>
      <rect x="60" y="12" width="6" height="16" fill="#51cf66" rx="1"/>
    </g>
    <circle cx="50" cy="100" r="25" fill="#3d3d5c" stroke="#51cf66" stroke-width="2"/>
    <text x="50" y="105" font-family="Arial" font-size="10" fill="#51cf66" text-anchor="middle">LISTEN</text>
    <g transform="translate(20, 135)">
      <line x1="0" y1="0" x2="60" y2="0" stroke="#555" stroke-width="2"/>
      <line x1="0" y1="6" x2="60" y2="6" stroke="#555" stroke-width="2"/>
      <line x1="0" y1="12" x2="60" y2="12" stroke="#555" stroke-width="2"/>
    </g>
  </g>
  
  <!-- Aiven Kafka Cloud -->
  <g transform="translate(300, 140)" filter="url(#shadow)">
    <rect x="20" y="40" width="260" height="180" rx="15" fill="#2d2d44" stroke="url(#aivenGrad)" stroke-width="3"/>
    
    <!-- Aiven Header with Crab -->
    <rect x="40" y="55" width="220" height="45" rx="5" fill="url(#aivenGrad)"/>
    <!-- Aiven Crab Icon -->
    <g transform="translate(50, 62)">
      <!-- Crab body -->
      <ellipse cx="12" cy="15" rx="10" ry="7" fill="#fff"/>
      <!-- Crab claws -->
      <ellipse cx="0" cy="10" rx="5" ry="3" fill="#fff" transform="rotate(-30, 0, 10)"/>
      <ellipse cx="24" cy="10" rx="5" ry="3" fill="#fff" transform="rotate(30, 24, 10)"/>
      <!-- Crab eyes -->
      <circle cx="8" cy="10" r="2" fill="#E64A19"/>
      <circle cx="16" cy="10" r="2" fill="#E64A19"/>
      <!-- Crab legs -->
      <line x1="4" y1="18" x2="0" y2="23" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
      <line x1="8" y1="20" x2="6" y2="25" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
      <line x1="16" y1="20" x2="18" y2="25" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
      <line x1="20" y1="18" x2="24" y2="23" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
    </g>
    <text x="180" y="85" font-family="Arial" font-size="14" fill="#fff" text-anchor="middle" font-weight="bold">Aiven for Apache Kafka</text>
    
    <!-- Topics -->
    <g transform="translate(40, 115)">
      <!-- Audio Messages Topic -->
      <rect x="0" y="0" width="220" height="40" rx="5" fill="url(#kafkaGrad)"/>
      <text x="110" y="26" font-family="Arial" font-size="14" fill="#000" text-anchor="middle" font-weight="bold">üéµ audio-messages</text>
      
      <!-- Reactions Topic -->
      <rect x="0" y="50" width="220" height="40" rx="5" fill="url(#kafkaGrad)"/>
      <text x="110" y="76" font-family="Arial" font-size="14" fill="#000" text-anchor="middle" font-weight="bold">‚ù§Ô∏è reactions</text>
    </g>
  </g>
  
  <!-- Connection Lines -->
  <!-- Dan to Kafka -->
  <path d="M 185 240 Q 250 240 320 240" stroke="#ff6b6b" stroke-width="3" fill="none" marker-end="url(#arrowRed)"/>
  <text x="250" y="225" font-family="Arial" font-size="11" fill="#ff6b6b" text-anchor="middle">Produce</text>
  
  <!-- Kafka to Amelie -->
  <path d="M 580 230 Q 640 200 720 180" stroke="#51cf66" stroke-width="3" fill="none" marker-end="url(#arrowGreen)"/>
  <text x="650" y="180" font-family="Arial" font-size="11" fill="#51cf66" text-anchor="middle">Consume</text>
  
  <!-- Kafka to Bob -->
  <path d="M 580 280 Q 640 340 720 390" stroke="#51cf66" stroke-width="3" fill="none" marker-end="url(#arrowGreen)"/>
  <text x="630" y="350" font-family="Arial" font-size="11" fill="#51cf66" text-anchor="middle">Consume</text>
  
  <!-- Reaction from Amelie -->
  <path d="M 720 260 Q 650 280 560 270" stroke="#FFB74D" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
  <text x="640" y="255" font-family="Arial" font-size="10" fill="#FFB74D" text-anchor="middle">React ‚ù§Ô∏è</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ff6b6b"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#51cf66"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <g transform="translate(30, 470)">
    <rect x="0" y="0" width="250" height="70" rx="8" fill="#2d2d44" stroke="#444" stroke-width="1"/>
    <text x="125" y="20" font-family="Arial" font-size="12" fill="#888" text-anchor="middle" font-weight="bold">Legend</text>
    <circle cx="20" cy="40" r="8" fill="#ff6b6b"/>
    <text x="35" y="44" font-family="Arial" font-size="11" fill="#fff">Broadcasting (Push-to-Talk)</text>
    <circle cx="20" cy="58" r="8" fill="#51cf66"/>
    <text x="35" y="62" font-family="Arial" font-size="11" fill="#fff">Receiving (Real-time Audio)</text>
  </g>
</svg>
